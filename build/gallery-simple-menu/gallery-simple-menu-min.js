YUI.add("gallery-simple-menu",function(h){var e="menu-active",c="menu-visible",b="role",g="aria-hidden",f=0,a=1;function d(i){this._link=i.host;this._menu=this._link.next();this._link.set("aria-haspopup","true");this._menu.setAttrs({"role":"menu","aria-labelledby":this._link.getAttribute("id"),"aria-hidden":"true"});this._menu.all("ul,li").set(b,"presentation");this._menu.all("a").set(b,"menuitem");this._menu.plug(h.Plugin.NodeFocusManager,{descendants:"a",keys:(h.UA.gecko?{previous:"press:38",next:"press:40"}:{previous:"down:38",next:"down:40"})});this._link.on("click",function(j){j.halt();this.toggle();},this);this._menu.on("keydown",function(j){if(j.keyCode===27){j.halt();this.hide();}},this);h.one(document).on("mousedown",function(k){var j=k.target;if(j!==this._link&&!this._menu.contains(j)){this.hide();}},this);}d.prototype={_state:a,show:function(){if(this._state!==f){this._link.addClass(e);this._menu.addClass(c);this._menu.set(g,false);this._menu.focusManager.focus();this._state=f;}},hide:function(){if(this._state!==a){this._link.removeClass(e);this._menu.removeClass(c);this._menu.set(g,true);this._link.focus();this._state=a;}},toggle:function(){this[this._state===a?"show":"hide"]();}};d.NAME="SimpleMenu";d.NS="simplemenu";h.namespace("Plugin").SimpleMenu=d;},"@VERSION@",{requires:["node-focusmanager"]});